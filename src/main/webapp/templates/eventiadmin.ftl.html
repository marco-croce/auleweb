<head>
    <title>Gestione eventi</title>
    <link rel="stylesheet" href="styles/styles.css" type="text/css" >
    <script src="js/error.js"></script>
</head>

<#if error??>
<body onload="openModal()">
    <#else>
<body>
    </#if>
    
    <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <i class="bi bi-exclamation-diamond-fill "></i>
                    <h5 class="modal-title" id="exampleModalLongTitle"> Operazione non riuscita </h5>
                    <i class="bi bi-exclamation-diamond-fill "></i>
                </div>
                <div class="modal-body">
                    <#if error??>
                    <i>${error}</i>
                    </#if>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal"> Chiudi </button>
                </div>
            </div>
        </div>
    </div>

<h1>Gestione eventi</h1>

<div class="table-container">
    <table>
        <thead>
            <tr>
                <th>Nome</th>
                <th>Data</th>
                <th>Inizio</th>
                <th>Fine</th>
                <th>Aula</th>
                <th>Modifica / Elimina</th>
            </tr>
        </thead>
        <tbody>
            <#if (eventi?size>0)>
            <#list eventi as evento>
            <tr>
                <td>${evento.nome}</td>
                <td>${evento.dataInizio?datetime.iso?string('dd-MM-yyyy')}</td>
                <td>${evento.dataInizio?datetime.iso?string('HH:mm')}</td>
                <td>${evento.dataFine?datetime.iso?string('HH:mm')}</td>
                <td>${evento.aula.nome} - ${evento.aula.edificio}</td>
                <td><a href="eventiadmin?n=${evento.key}"><button class="btn btn-dark">Gestisci</button></a></td>
            </tr>
            </#list>
            </#if>
        </tbody>
    </table>
</div>

<br>

<p><a href="eventiadmin?n=0"><button class="btn btn-dark"> Inserisci un nuovo evento </button></a></p>

</body>
